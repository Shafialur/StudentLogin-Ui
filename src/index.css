@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply box-border;
  }
  
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
  
  body {
    @apply m-0 p-0 font-sans antialiased;
    background: 
      radial-gradient(ellipse 80% 60% at 50% 50%, rgba(255, 255, 255, 0.15) 0%, transparent 60%),
      radial-gradient(ellipse 100% 40% at 50% 0%, rgba(135, 206, 250, 0.2) 0%, transparent 50%),
      radial-gradient(ellipse 100% 50% at 50% 100%, rgba(255, 200, 150, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 0% 0%, rgba(180, 220, 255, 0.1) 0%, transparent 30%),
      radial-gradient(circle at 100% 100%, rgba(255, 220, 180, 0.1) 0%, transparent 30%),
      url('/images/backgorund.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    min-height: 100vh;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
  
  #root {
    @apply relative;
    min-height: 100vh;
    min-height: calc(var(--vh, 1vh) * 100);
  }
  
  /* Mobile viewport height fix */
  @media (max-width: 768px) {
    html {
      height: -webkit-fill-available;
    }
    
    body {
      min-height: -webkit-fill-available;
      min-height: calc(var(--vh, 1vh) * 100);
    }
    
    #root {
      min-height: -webkit-fill-available;
      min-height: calc(var(--vh, 1vh) * 100);
    }
  }
  
  /* Animated subtle glow overlay */
  #root::before {
    content: '';
    @apply fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0;
    background: 
      radial-gradient(ellipse 60% 40% at 30% 20%, rgba(135, 206, 250, 0.08) 0%, transparent 50%),
      radial-gradient(ellipse 50% 30% at 70% 80%, rgba(255, 180, 150, 0.08) 0%, transparent 50%);
    animation: backgroundPulse 8s ease-in-out infinite alternate;
  }
  
  @keyframes backgroundPulse {
    0% {
      opacity: 0.6;
    }
    100% {
      opacity: 1;
    }
  }
}

@layer utilities {
  /* Custom Scrollbar Styling */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(139, 92, 246, 0.3) rgba(255, 255, 255, 0.1);
  }
  
  *::-webkit-scrollbar {
    @apply w-2.5 h-2.5;
  }
  
  *::-webkit-scrollbar-track {
    @apply rounded-lg;
    background: rgba(255, 255, 255, 0.05);
  }
  
  *::-webkit-scrollbar-thumb {
    @apply rounded-lg border-2;
    background: linear-gradient(135deg, 
      rgba(139, 92, 246, 0.4) 0%, 
      rgba(168, 85, 247, 0.5) 50%,
      rgba(196, 181, 253, 0.4) 100%
    );
    border-color: rgba(255, 255, 255, 0.1);
    transition: background 0.3s ease;
  }
  
  *::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, 
      rgba(139, 92, 246, 0.6) 0%, 
      rgba(168, 85, 247, 0.7) 50%,
      rgba(196, 181, 253, 0.6) 100%
    );
  }
  
  /* Smooth Scroll Performance */
  .overflow-y-auto,
  .overflow-x-hidden {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    will-change: scroll-position;
  }
  
  /* Animation Performance */
  [class*="motion-"],
  [class*="animate-"] {
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
  
  /* Focus States for Accessibility */
  button:focus-visible,
  a:focus-visible,
  [role="button"]:focus-visible {
    @apply outline-2 outline-offset-2 rounded;
    outline-color: rgba(139, 92, 246, 0.8);
    transition: outline-offset 0.2s ease;
  }
  
  button:focus-visible:active,
  a:focus-visible:active,
  [role="button"]:focus-visible:active {
    @apply outline-offset-1;
  }
  
  /* Reduce Motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
  
  /* Touch Device Optimizations */
  @media (hover: none) and (pointer: coarse) {
    button,
    a,
    [role="button"] {
      -webkit-tap-highlight-color: rgba(139, 92, 246, 0.2);
      touch-action: manipulation;
    }
  }
  
  /* Prevent Layout Shift on Image Load */
  img {
    content-visibility: auto;
  }

  /* Responsive Grid Classes for Dashboard */
  @media (min-width: 768px) {
    .dashboard-grid-item-1 { 
      grid-column: 1 / 5; 
      grid-row: 1 / 3; 
      @apply flex flex-col relative z-10;
    }
    .dashboard-grid-item-2 { 
      grid-column: 5 / 8; 
      grid-row: 1; 
      @apply flex flex-col relative z-10;
    }
    .dashboard-grid-item-3 { 
      grid-column: 8 / 11; 
      grid-row: 1; 
      @apply flex flex-col relative z-10;
    }
    .dashboard-grid-item-4 { 
      grid-column: 5 / 7; 
      grid-row: 2; 
      @apply flex flex-col relative z-10;
    }
    .dashboard-grid-item-5 { 
      grid-column: 7 / 9; 
      grid-row: 2; 
      @apply flex flex-col relative z-10;
    }
    .dashboard-grid-item-6 { 
      grid-column: 9 / 11; 
      grid-row: 2; 
      @apply flex flex-col relative z-10;
    }
  }
  
  /* Make cards fill their grid items */
  @media (min-width: 768px) {
    .dashboard-grid-item-1 > *,
    .dashboard-grid-item-2 > *,
    .dashboard-grid-item-3 > *,
    .dashboard-grid-item-4 > *,
    .dashboard-grid-item-5 > *,
    .dashboard-grid-item-6 > * {
      @apply h-full w-full flex flex-col;
      box-sizing: border-box;
    }
  }
  
  /* Mobile viewport fix classes */
  @media (max-width: 768px) {
    .mobile-viewport-fix {
      height: calc(var(--vh, 1vh) * 100);
      min-height: calc(var(--vh, 1vh) * 100);
    }
    
    .mobile-content-fix {
      min-height: calc(var(--vh, 1vh) * 105);
      padding-bottom: calc(var(--vh, 1vh) * 5);
    }
  }
  
  @media (min-width: 769px) {
    .mobile-viewport-fix {
      @apply h-screen min-h-screen;
    }
  }
  
  /* UI Responsive Container - Desktop zoom */
  @media (min-width: 768px) {
    .ui-responsive-container {
      zoom: 0.67;
    }
  }
  
  @media (max-width: 767px) {
    .ui-responsive-container {
      zoom: 1 !important;
    }
  }
}
